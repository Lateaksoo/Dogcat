@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@{
    int? userId = HttpContextAccessor.HttpContext.Session.GetInt32("userId") ?? 0;
    string userNickName = HttpContextAccessor.HttpContext.Session.GetString("userNickName");
}

@model List<dogcat.Models.Domain.Pet>
@{
    ViewData["Title"] = "애완동물 등록하기";
}

<head>
    <link rel="stylesheet" href="~/css/MyPet/MyPetPage.css">
</head>
<div class="container">
<div class="btncnt">
    <a class="btn" asp-controller="Board" asp-action="Write">@userNickName<br> 반간습니다</a>
    <br>
    <a class="btn" asp-controller="MyPage" asp-action="Home" asp-route-id="@userId">마이페이지로가기</a>
    <br>
    <a class="btn" asp-controller="Board" asp-action="Write">게시글 작성하기</a>
    <br>
    <a class="btn" asp-controller="Message" asp-action="Add" asp-route-id="@userId">메세지 보내기</a>
</div>

@if(Model != null)
{
  
        @foreach (var pet in Model)
        {
            <tr>
                <td><a asp-controller="Mypet" asp-action="Detail" asp-route-id="@pet.Id">@pet.Name</a> </td>
                <td>@pet.Species</td>
                <td>@pet.Old</td>
                <td>@pet.Weight</td>
            </tr>
           
        }
        <a class="btn btn-outline-dark"
           asp-controller="MyPet"
           asp-action="Add"
           asp-route-id="@Model[0].UserId">애완동물 등록하기</a>
 
}
else{
    <script>
        alert("등록된 애완동물이 없습니다.");
        history.back();
        </script>
}

</div>